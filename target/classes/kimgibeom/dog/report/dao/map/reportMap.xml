<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
	'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>
<mapper namespace='kimgibeom.dog.report.dao.map.ReportMap'>
	<select id='getReports' resultType='report'>
		select report_num reportNum, user_id userId, title, content, view_count viewCount, reg_date regDate
		from reports
		order by reg_date DESC, report_num DESC
	</select>
	
	<select id='getReport' parameterType='int' resultType='report'>
		select report_num reportNum, user_id userId, title, content, view_count viewCount, reg_date regDate
		from reports
		where report_num = #{reportNum}
	</select>
	
	<insert id='addReport' parameterType='string'>
		insert into reports (report_num, user_id, title, content, view_count, reg_date)
		values(report_num_seq.nextval, #{userId}, #{title}, #{content}, #{viewCount}, sysdate)
	</insert>
	
	<update id='modifyReport' parameterType='report'>
		update reports
		set title = #{title}, content = #{content}
		where report_num = #{reportNum}
	</update>
	
	<delete id='delReport' parameterType='int'>
		delete reports
		where report_num = #{reportNum}
	</delete>
</mapper>	